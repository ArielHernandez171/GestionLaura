@page "/newcli"
@using GestionLaura.Clases
@using GestionLaura.Logica
@inject NavigationManager nav

<h3 class="titulo-form">Nuevo cliente</h3>

<div class="form-container">
    <EditForm OnSubmit="@Guardar" Model="@model">

        <div class="form-group">
            <label for="Id">Número de identificación</label>
            <input type="text" id="Id" class="input" @bind="model.Id" />
        </div>

        <div class="form-group">
            <label for="Name">Nombre</label>
            <input type="text" id="Name" class="input" @bind="model.Name" />
        </div>

        <div class="form-group">
            <label for="SurName">Apellido</label>
            <input type="text" id="SurName" class="input" @bind="model.SurName" />
        </div>

        <button type="submit" class="btn-guardar">Guardar</button>

    </EditForm>
</div>

@code {
    private Legajo model = new Legajo();
    private LogLegajo logica = new LogLegajo();
    public async Task Guardar(){
        
        await logica.NuevoLegajo(model);
        nav.NavigateTo("/");
        
    }
}